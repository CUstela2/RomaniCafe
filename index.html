<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Romani CafÃ©</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="header-container">
        <h1>Romani CafÃ©</h1>
        <p>Seu cantinho favorito para um cafÃ© delicioso â˜•</p>
      </div>
    </header>

    <section class="main-content">
      <div class="lateral-esquerda">
        <div class="imagem-anteposta"></div>
      </div>

      <div class="coluna-central">
        <div class="chamada-pedido">
          <h2>Venha fazer seu pedido!</h2>
        </div>

        <div class="menu-buttons">
          <button onclick="showProducts('liquidos')">Bebidas</button>
          <button onclick="showProducts('assados')">Assados</button>
          <button onclick="showProducts('fritos')">Fritos</button>
          <button onclick="showProducts('doces')">Doces</button>
        </div>

        <div id="liquidos" class="products">
          <h2>Bebidas</h2>
          <ul>
            <li>
              CafÃ© Expresso - R$ 5,00
              <button onclick="adicionarAoCarrinho('CafÃ© Expresso - R$ 5,00')">
                Adicionar
              </button>
            </li>
            <li>
              Capuccino - R$ 7,00
              <button onclick="adicionarAoCarrinho('Capuccino - R$ 7,00')">
                Adicionar
              </button>
            </li>
            <li>
              ChÃ¡ Gelado - R$ 6,00
              <button onclick="adicionarAoCarrinho('ChÃ¡ Gelado - R$ 6,00')">
                Adicionar
              </button>
            </li>
            <li>
              Suco Natural - R$ 8,00
              <button onclick="adicionarAoCarrinho('Suco Natural - R$ 8,00')">
                Adicionar
              </button>
            </li>
          </ul>
        </div>

        <div id="assados" class="products">
          <h2>Assados</h2>
          <ul>
            <li>
              Croissant - R$ 4,00
              <button onclick="adicionarAoCarrinho('Croissant - R$ 4,00')">
                Adicionar
              </button>
            </li>
            <li>
              PÃ£o de Queijo - R$ 3,50
              <button onclick="adicionarAoCarrinho('PÃ£o de Queijo - R$ 3,50')">
                Adicionar
              </button>
            </li>
            <li>
              Empada - R$ 5,00
              <button onclick="adicionarAoCarrinho('Empada - R$ 5,00')">
                Adicionar
              </button>
            </li>
          </ul>
        </div>

        <div id="fritos" class="products">
          <h2>Fritos</h2>
          <ul>
            <li>
              Coxinha - R$ 4,50
              <button onclick="adicionarAoCarrinho('Coxinha - R$ 4,50')">
                Adicionar
              </button>
            </li>
            <li>
              Risoles - R$ 5,00
              <button onclick="adicionarAoCarrinho('Risoles - R$ 5,00')">
                Adicionar
              </button>
            </li>
            <li>
              Pastel - R$ 6,00
              <button onclick="adicionarAoCarrinho('Pastel - R$ 6,00')">
                Adicionar
              </button>
            </li>
          </ul>
        </div>

        <div id="doces" class="products">
          <h2>Doces</h2>
          <ul>
            <li>
              Bolo de Chocolate - R$ 6,50
              <button
                onclick="adicionarAoCarrinho('Bolo de Chocolate - R$ 6,50')"
              >
                Adicionar
              </button>
            </li>
            <li>
              Brigadeiro - R$ 3,00
              <button onclick="adicionarAoCarrinho('Brigadeiro - R$ 3,00')">
                Adicionar
              </button>
            </li>
            <li>
              Beijinho - R$ 3,00
              <button onclick="adicionarAoCarrinho('Beijinho - R$ 3,00')">
                Adicionar
              </button>
            </li>
          </ul>
        </div>

        <div id="carrinho" class="carrinho">
          <h2>ðŸ›’ Seu Pedido</h2>
          <ul id="itens-carrinho"></ul>
          <p id="total-carrinho">Total: R$ 0.00</p>
          <button onclick="finalizarPedido()">Finalizar Pedido</button>
        </div>
        <div id="alerta" class="alerta" style="display: none;">
          <div class="alerta-conteudo">
            <p id="mensagem-alerta"></p>
            <button onclick="fecharAlerta()">Fechar</button>
          </div>
        </div>
        
        <div id="pagamento" class="pagamento" style="display: none">
          <h2>Escolha a forma de pagamento:</h2>
          <p id="total-pagamento">Total a pagar: R$ 0.00</p>
          <button onclick="pagarPix()">PIX</button>

          <div
            id="pix-info"
            style="display: none; text-align: center; margin-top: 20px"
          >
            <h3>ðŸ¥° Obrigado por seu pedido!</h3>
            <p>
              Para concluir, faÃ§a o pagamento via PIX usando a chave abaixo:
            </p>
            <p id="chave-pix" style="font-weight: bold; font-size: 18px">
              05463636010
            </p>
            <button onclick="copiarChavePix()">ðŸ“‹ Copiar chave PIX</button>
            <p
              id="copiado-msg"
              style="color: green; display: none; margin-top: 10px"
            >
              Chave copiada com sucesso!
            </p>
          </div>

          <div id="image-upload" class="image-upload" style="display: none">
            <label for="upload-image" class="label-input-file"
              >Escolher Imagem</label
            >
            <input
              type="file"
              id="upload-image"
              accept="image/*"
              onchange="mostrarNomeImagem()"
            />
            <p id="image-name" class="file-name">Nenhuma imagem selecionada</p>
            <button
              id="confirmar-imagem"
              style="display: none"
              onclick="confirmarImagem()"
            >
              Confirmar Imagem
            </button>
          </div>
          <div id="alerta-pagamento" class="alerta" style="display: none;">
            <div class="alerta-conteudo">
              <p id="mensagem-pagamento">Pagamento confirmado! Sua notinha foi gerada. â˜•</p>
              <button onclick="fecharAlertaPagamento()">OK</button>
            </div>
          </div>
          <div
            id="notinha"
            style="
              display: none;
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #ccc;
              background-color: #f8f8f8;
            "
          >
            <h3>ðŸ§¾ Comprovante de Pedido</h3>
            <ul id="notinha-itens"></ul>
            <p id="notinha-total"></p>
            <p>âœ… Pagamento confirmado via PIX. Obrigado e volte sempre! â˜•</p>
          </div>
        </div>
      </div>

      <div class="lateral-direita">
        <p>Se ocorre alguma promoÃ§Ã£o no dia a dia ou algum recado aparecera aqui.</p>
      </div>
    </section>

    <footer>
      <div class="footer-container">
        <p>&copy; 2025 Romani CafÃ© - Todos os direitos reservados.</p>
        <p>EndereÃ§o: Rua TravessÃ£o Solferino, 501 - Cruzeiro, Caxias do Sul</p>
        <p>Contato: (54) 99357-6924 | contato@romanicafe.com.br</p>
      </div>
    </footer>

    <script src="https://sdk.mercadopago.com/js/v2"></script>

    <script>
      const mp = new MercadoPago("TEST-e5e53a9c-b268-4ebf-8a18-b2a9ef9f92b2");

      const itensCarrinho = [];
      const precosProdutos = {
        "CafÃ© Expresso - R$ 5,00": 5.0,
        "Capuccino - R$ 7,00": 7.0,
        "ChÃ¡ Gelado - R$ 6,00": 6.0,
        "Suco Natural - R$ 8,00": 8.0,
        "Croissant - R$ 4,00": 4.0,
        "PÃ£o de Queijo - R$ 3,50": 3.5,
        "Empada - R$ 5,00": 5.0,
        "Coxinha - R$ 4,50": 4.5,
        "Risoles - R$ 5,00": 5.0,
        "Pastel - R$ 6,00": 6.0,
        "Bolo de Chocolate - R$ 6,50": 6.5,
        "Brigadeiro - R$ 3,00": 3.0,
        "Beijinho - R$ 3,00": 3.0,
      };

      function showProducts(category) {
        const section = document.getElementById(category);
        section.style.display =
          section.style.display === "block" ? "none" : "block";
      }

      function adicionarAoCarrinho(produto) {
        itensCarrinho.push(produto);
        atualizarCarrinho();
      }

      function removerDoCarrinho(index) {
        itensCarrinho.splice(index, 1);
        atualizarCarrinho();
      }

      function atualizarCarrinho() {
        const lista = document.getElementById("itens-carrinho");
        lista.innerHTML = "";
        let total = 0;
        itensCarrinho.forEach((item, index) => {
          const li = document.createElement("li");
          li.innerHTML = `${item} <button onclick="removerDoCarrinho(${index})">Remover</button>`;
          lista.appendChild(li);
          total += precosProdutos[item];
        });
        document.getElementById(
          "total-carrinho"
        ).innerHTML = `Total: R$ ${total.toFixed(2)}`;
      }

      function calcularTotal() {
        let total = 0;
        itensCarrinho.forEach((item) => (total += precosProdutos[item]));
        return total;
      }

      function finalizarPedido() {
  if (itensCarrinho.length === 0) {
    // Exibe o alerta estilizado
    const mensagem = "Seu carrinho estÃ¡ vazio! Adicione itens antes de finalizar o pedido.";
    document.getElementById("mensagem-alerta").textContent = mensagem;
    document.getElementById("alerta").style.display = "flex";
    return; // Impede de seguir para a tela de pagamento
  }

  document.getElementById("pagamento").style.display = "block";
  document.getElementById(
    "total-pagamento"
  ).innerHTML = `Total a pagar: R$ ${calcularTotal().toFixed(2)}`;
}
function fecharAlerta() {
  document.getElementById("alerta").style.display = "none";
}



      function pagarPix() {
        document.getElementById("pix-info").style.display = "block";
        document.getElementById("image-upload").style.display = "block";
      }

      function copiarChavePix() {
        const chavePix = document.getElementById("chave-pix").innerText;
        navigator.clipboard.writeText(chavePix).then(() => {
          document.getElementById("copiado-msg").style.display = "block";
        });
      }

      function mostrarNomeImagem() {
        const input = document.getElementById("upload-image");
        const fileName = input.files.length
          ? input.files[0].name
          : "Nenhuma imagem selecionada";
        document.getElementById("image-name").innerText = fileName;
        document.getElementById("confirmar-imagem").style.display = "block";
      }

      function confirmarImagem() {
  const listaNotinha = document.getElementById("notinha-itens");
  const totalNotinha = document.getElementById("notinha-total");
  listaNotinha.innerHTML = "";

  let total = 0;
  itensCarrinho.forEach((item) => {
    const li = document.createElement("li");
    li.textContent = item;
    listaNotinha.appendChild(li);
    total += precosProdutos[item];
  });

  totalNotinha.textContent = `Total: R$ ${total.toFixed(2)}`;

  document.getElementById("notinha").style.display = "block";
  document.getElementById("confirmar-imagem").style.display = "none";
  document.getElementById("upload-image").disabled = true;

  // Mostra o alerta personalizado
  document.getElementById("mensagem-pagamento").textContent =
    "âœ… Pagamento confirmado com sucesso! Sua notinha foi gerada. â˜•";
  document.getElementById("alerta-pagamento").style.display = "flex";
}
function fecharAlertaPagamento() {
  document.getElementById("alerta-pagamento").style.display = "none";
}

    </script>
  </body>
</html>
